@model IEnumerable<Janeshop.Models.Product>
@{
    ViewBag.Title = "ProductPrint";
    Layout = "~/Views/Shared/_LayoutPrint.cshtml";
}

<meta name="viewport" content="width=device-width" />

@if (Model.Count() == 0)
{
    <h4 class="text-danger text-center">ไม่พบข้อมูล</h4>
}
else
{
    <!-- Begin Page Content -->
    <div class="container-fluid">

        <!-- DataTales Example -->
        <div class="">
            <div class="">
                <h6 class="m-0 font-weight-bold text-primary text-center">รายการสินค้า</h6>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                        <thead>
                            <tr class="text-center">
                                <th>ประเภท</th>
                                <th>ชื่อสินค้า</th>
                                <th>ราคา</th>
                                <th>คงเหลือ</th>
                            </tr>
                        </thead>
                        @foreach (var item in Model)
                        {
                            <tbody>
                                <tr class="table">
                                    <td class="text-center">@Html.DisplayFor(model => item.tbl_product_type.type_name)</td>
                                    <td class="text-center">@Html.DisplayFor(model => item.tbl_product.product_name)</td>
                                    <td class="text-center">@Html.DisplayFor(model => item.tbl_product.price)</td>
                                    <td class="text-center">@Html.DisplayFor(model => item.tbl_product.amount)</td>
                                </tr>
                            </tbody>
                        }
                    </table>
                </div>
            </div>
        </div>
    </div>
}

<script>
        myFunction();
        //
        window.onafterprint = function (e) {
            closePrintView();
        };

        function myFunction() {
            window.print();

        }
        function closePrintView() {
            window.location.href = '@Url.Action("ProductView", "Store")';

        }
</script>
